shadow$provide.module$node_modules$jssoup$dist$lib$jssoup=function(global,require,module,exports){function _typeof(obj$jscomp$0){"@babel/helpers - typeof";_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj$jscomp$0)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;
Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);if(!Super||"object"!==_typeof(Super)&&"function"!==typeof Super){if(void 0!==Super)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Super=this}return Super}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,
props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=
void 0;var _builder=function(obj){return obj&&obj.__esModule?obj:{"default":obj}}(require("module$node_modules$jssoup$dist$lib$builder")),htmlparser=require("module$node_modules$htmlparser$lib$htmlparser");if("undefined"!==typeof module&&"undefined"!==typeof module.exports)try{htmlparser=Tautologistics.NodeHtmlParser}catch(e){}else htmlparser=Tautologistics.NodeHtmlParser;global=function(){function SoupElement(){var parent=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,previousElement=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,nextElement=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,SoupElement);this.parent=parent;this.previousElement=previousElement;this.nextElement=nextElement}_createClass(SoupElement,[{key:"nextSibling",get:function(){if(this.parent){var index=this.parent.contents.indexOf(this);if(index!=this.parent.contents.length-1)return this.parent.contents[index+1]}}},{key:"previousSibling",get:function(){if(this.parent){var index=
this.parent.contents.indexOf(this);if(0!=index)return this.parent.contents[index-1]}}},{key:"nextSiblings",get:function(){if(this.parent){var index=this.parent.contents.indexOf(this);if(index!=this.parent.contents.length-1)return this.parent.contents.slice(index+1)}}},{key:"previousSiblings",get:function(){if(this.parent){var index=this.parent.contents.indexOf(this);if(0!=index)return this.parent.contents.slice(0,index)}}},{key:"extract",value:function(){var extractLast=this,descendants=this.descendants;
descendants&&descendants.length&&(extractLast=descendants[descendants.length-1]);descendants=this.previousElement;var after=extractLast.nextElement;this.previousElement=null;extractLast.nextElement=null;descendants&&(descendants.nextElement=after);after&&(after.previousElement=descendants);this.parent&&(extractLast=this.parent.contents.indexOf(this),0<=extractLast&&this.parent.contents.splice(extractLast,1));this.parent=null}},{key:"insert",value:function(index,newElement){var _this=this;if(null==
newElement)throw"Cannot insert null element!";if(newElement===this)throw"Cannot add one itself!";if(!(this instanceof SoupTag))throw"insert is not support in "+this.constructor.name;if(0>index)throw"index cannot be negative!";if(newElement instanceof JSSoup)newElement.contents.forEach(function(element){_this.insert(index,element);++index});else{index=Math.min(index,this.contents.length);"string"==typeof newElement&&(newElement=new SoupString(newElement));if(newElement.parent){if(newElement.parent===
this){var curIndex=this.contents.indexOf(newElement);if(index==curIndex)return;index>curIndex&&--index}newElement.extract()}var count=this.contents.length;curIndex=(curIndex=newElement.descendants)&&0<curIndex.length?curIndex[curIndex.length-1]:newElement;if(0==index)newElement.previousElement=this;else{var previousChild=this.contents[index-1],previousDescendants=previousChild.descendants;newElement.previousElement=previousDescendants&&0<previousDescendants.length?previousDescendants[previousDescendants.length-
1]:previousChild}newElement.previousElement&&(newElement.previousElement.nextElement=newElement);if(index<count)curIndex.nextElement=this.contents[index];else{count=this;for(previousChild=null;!previousChild&&count;)previousChild=count.nextSibling,count=count.parent;curIndex.nextElement=previousChild?previousChild:null}curIndex.nextElement&&(curIndex.nextElement.previousElement=curIndex);newElement.parent=this;this.contents.splice(index,0,newElement)}}},{key:"replaceWith",value:function(newElement){if(null==
this.parent)throw"Cannot replace element without parent!";if(newElement!==this){if(newElement===this.parent)throw"Cannot replace element with its parent!";var parent=this.parent,index=this.parent.contents.indexOf(this);this.extract();try{parent.insert(index,newElement)}catch(err){throw"Cannot replace this element!";}return this}}}]);return SoupElement}();var SoupComment=function(_SoupElement){function SoupComment(text){var _this2=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;var previousElement=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,nextElement=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,SoupComment);_this2=_super.call(this,_this2,previousElement,nextElement);_this2._text=text;return _this2}_inherits(SoupComment,_SoupElement);var _super=_createSuper(SoupComment);return SoupComment}(global),SoupString=function(_SoupElement2){function SoupString(text){var _this3=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;var previousElement=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,nextElement=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,SoupString);_this3=_super2.call(this,_this3,previousElement,nextElement);_this3._text=text;return _this3}_inherits(SoupString,_SoupElement2);var _super2=_createSuper(SoupString);return SoupString}(global);SoupString.prototype.toString=function(){return this._text};var SoupDoctypeString=function(_SoupString){function SoupDoctypeString(text){var _this4=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;var previousElement=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,nextElement=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,SoupDoctypeString);_this4=_super3.call(this,text,_this4,previousElement,nextElement);_this4._text=text;return _this4}_inherits(SoupDoctypeString,_SoupString);var _super3=_createSuper(SoupDoctypeString);return SoupDoctypeString}(SoupString);SoupDoctypeString.prototype.toString=
function(){return"\x3c"+this._text+"\x3e"};var SoupTag=function(_SoupElement3){function SoupTag(name,builder){var attrs=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;var _this5=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;var previousElement=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,nextElement=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;_classCallCheck(this,SoupTag);_this5=_super4.call(this,_this5,previousElement,nextElement);_this5.name=
name;_this5.contents=[];_this5.attrs=attrs||{};_this5.hidden=!1;_this5.builder=builder;return _this5}_inherits(SoupTag,_SoupElement3);var _super4=_createSuper(SoupTag);_createClass(SoupTag,[{key:"_append",value:function(child){child&&this.contents.push(child)}},{key:"_build",value:function(children){if(!children||1>children.length)return this;for(var last=this,i=0;i<children.length;++i){var ele=this._transform(children[i]);last.nextElement=ele;ele.previousElement=last;last=ele instanceof SoupTag?
ele._build(children[i].children):ele;this._append(ele)}return last}},{key:"_transform",value:function(dom){return dom?"text"===dom.type?new SoupString(dom.data,this):"comment"===dom.type?new SoupComment(dom.data,this):"directive"===dom.type&&"!DOCTYPE"===dom.name?new SoupDoctypeString(dom.data,this):new SoupTag(dom.name,this.builder,dom.attribs,this):null}},{key:"string",get:function(){for(var cur=this;cur&&cur.contents&&1==cur.contents.length;)cur=cur.contents[0];if(cur&&!(cur instanceof SoupTag))return cur}},
{key:"find",value:function(){var r=this.findAll(0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0);if(0<r.length)return r[0]}},{key:"findAll",value:function(){for(var results=[],strainer=new SoupStrainer(0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,2<arguments.length&&void 0!==arguments[2]?
arguments[2]:void 0),descendants=this.descendants,i=0;i<descendants.length;++i)if(descendants[i]instanceof SoupTag){var tag=strainer.match(descendants[i]);tag&&results.push(tag)}return results}},{key:"findPreviousSibling",value:function(){var results=this.findPreviousSiblings(0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0);if(0<results.length)return results[0]}},
{key:"findPreviousSiblings",value:function(){for(var results=[],cur=this.previousSibling,strainer=new SoupStrainer(0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0);cur;){if(cur instanceof SoupTag){var tag=strainer.match(cur);tag&&results.push(tag)}cur=cur.previousSibling}return results}},{key:"findNextSibling",value:function(){var results=this.findNextSiblings(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0);if(0<results.length)return results[0]}},{key:"findNextSiblings",value:function(){for(var results=[],cur=this.nextSibling,strainer=new SoupStrainer(0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
void 0);cur;){if(cur instanceof SoupTag){var tag=strainer.match(cur);tag&&results.push(tag)}cur=cur.nextSibling}return results}},{key:"getText",value:function(){for(var separator=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",text=[],descendants=this.descendants,i=0;i<descendants.length;++i)descendants[i]instanceof SoupString&&text.push(descendants[i]._text);return text.join(separator)}},{key:"text",get:function(){return this.getText()}},{key:"descendants",get:function(){for(var ret=[],
cur=this.nextElement;cur;){for(var parent=cur.parent;parent&&parent!=this;)parent=parent.parent;if(!parent)break;ret.push(cur);cur=cur.nextElement}return ret}},{key:"_convertAttrsToString",value:function(){var text="";if(!this.attrs)return text;for(var key in this.attrs)text=Array.isArray(this.attrs[key])?text+(key+'\x3d"'+this.attrs[key].join(" ")+'" '):text+(key+'\x3d"'+this.attrs[key]+'" ');return text=text.trim()}},{key:"_prettify",value:function(indent,breakline){var level=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0,text="";this.hidden&&0==level&&--level;if(!this.hidden){var attrs=this._convertAttrsToString();text=attrs?text+(indent.repeat(level)+"\x3c"+this.name+" "+attrs):text+(indent.repeat(level)+"\x3c"+this.name)}if(!this.hidden){if(this._isEmptyElement()&&this.builder.canBeEmptyElement(this.name))return text+(" /\x3e"+breakline);text+="\x3e"+breakline}for(attrs=0;attrs<this.contents.length;++attrs)if(this.contents[attrs]instanceof SoupString){var curText=this.contents[attrs].toString();
curText=curText.trim();0!=curText.length&&(text="\n"==curText.substring(curText.length-1)?text+(indent.repeat(level+1)+curText):text+(indent.repeat(level+1)+curText+breakline))}else text=this.contents[attrs]instanceof SoupComment?text+(indent.repeat(level+1)+"\x3c!--"+this.contents[attrs]._text+"--\x3e"+breakline):text+this.contents[attrs]._prettify(indent,breakline,level+1);this.hidden||(text+=indent.repeat(level)+"\x3c/"+this.name+"\x3e"+breakline);return text}},{key:"prettify",value:function(){return this._prettify(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:" ",1<arguments.length&&void 0!==arguments[1]?arguments[1]:"\n").trim()}},{key:"append",value:function(item){var pre=this,next=this.nextElement,appendLast=item,itemDescendants=item.descendants;itemDescendants&&0<itemDescendants.length&&(appendLast=itemDescendants[itemDescendants.length-1]);(itemDescendants=this.descendants)&&0<itemDescendants.length&&(pre=itemDescendants[itemDescendants.length-1],next=pre.nextElement);item instanceof SoupString&&
pre instanceof SoupString?pre._text+=item._text:(item.previousElement=pre,appendLast.nextElement=next,pre&&(pre.nextElement=item),next&&(next.previousElement=appendLast),this.contents.push(item),item.parent=this)}},{key:"_isEmptyElement",value:function(){return 0==this.contents.length}}]);return SoupTag}(global);SoupTag.prototype.toString=function(){return this.prettify("","")};var JSSoup=function(_SoupTag){function JSSoup(text){var ignoreWhitespace=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
!0;_classCallCheck(this,JSSoup);var _this6=_super5.call(this,"[document]",new _builder["default"],null);ignoreWhitespace=new htmlparser.DefaultHandler(function(error,dom){error&&console.log(error)},{verbose:!1,ignoreWhitespace});(new htmlparser.Parser(ignoreWhitespace)).parseComplete(text);Array.isArray(ignoreWhitespace.dom)?_this6._build(ignoreWhitespace.dom):_this6._build([ignoreWhitespace.dom]);_this6.hidden=!0;return _this6}_inherits(JSSoup,_SoupTag);var _super5=_createSuper(JSSoup);return JSSoup}(SoupTag);
exports["default"]=JSSoup;var SoupStrainer=function(){function SoupStrainer(name,attrs,string){_classCallCheck(this,SoupStrainer);"string"==typeof attrs?attrs={"class":[attrs]}:Array.isArray(attrs)?attrs={"class":attrs}:attrs&&attrs["class"]&&"string"==typeof attrs["class"]&&(attrs["class"]=[attrs["class"]]);if(attrs&&attrs["class"])for(var i=0;i<attrs["class"].length;++i)attrs["class"][i]=attrs["class"][i].trim();this.name=name;this.attrs=attrs;this.string=string}_createClass(SoupStrainer,[{key:"match",
value:function(tag){if(void 0==this.name&&void 0==this.attrs)return this.string?this._matchName(tag.string,this.string)?tag.string:null:tag;var match=this._matchName(tag.name,this.name);if(!match)return null;match=this._matchName(tag.string,this.string);if(!match)return null;if("object"==_typeof(this.attrs)&&!this._isEmptyObject(this.attrs)){match=Object.getOwnPropertyNames(this.attrs);for(var found=!1,i=0;i<match.length;++i)if(match[i]in tag.attrs&&this._matchAttrs(match[i],tag.attrs[match[i]],this.attrs[match[i]])){found=
!0;break}if(!found)return null}return tag}},{key:"_matchName",value:function(tagItem,name){if(void 0==name||null==name)return!0;if(Array.isArray(name)){for(var i=0;i<name.length;++i)if(this._matchName(tagItem,name[i]))return!0;return!1}return tagItem==name}},{key:"_matchAttrs",value:function(name,candidateAttrs,attrs){"string"==typeof candidateAttrs&&(candidateAttrs="class"==name?candidateAttrs.replace(/\s\s+/g," ").trim().split(" "):[candidateAttrs]);"string"==typeof attrs&&(attrs=[attrs]);for(name=
0;name<attrs.length;++name)if(0>candidateAttrs.indexOf(attrs[name]))return!1;return!0}},{key:"_isEmptyObject",value:function(obj){return 0==Object.keys(obj).length}}]);return SoupStrainer}()}
//# sourceMappingURL=module$node_modules$jssoup$dist$lib$jssoup.js.map
